/*! tabella - v0.0.1 - 2014-12-17
* https://github.com/iliketomatoes/tabellajs
* Copyright (c) 2014 ; Licensed  */
!function(a){"use strict";"function"==typeof define&&define.amd?define(a):window.Tabella=a()}(function(){"use strict";function a(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a){this.value=a,this.message="Tabella.js error: ",this.toString=function(){return this.message+this.value}}function c(c,d){function e(a,b){if(a instanceof Array&&a.length){var c=a.length,d=document.createElement("div");d.className="period-row",b.appendChild(d);for(var e=0;c>e;e++){var f=document.createElement("div");f.className="period-element";var g="undefined"!=typeof a[e][0]?a[e][0]:"not set";"undefined"!=typeof a[e][1]&&(g+="<br>",g+=a[e][1]),f.innerHTML=g,d.appendChild(f)}return!0}return!1}function f(a,b){var c=(a.length,b.length);if(c>0){for(var d=0;c>d;d++)for(var e in b[d]);return!0}return!1}this.defaults={periods:null,rows:null,breakpoints:{small:[300,2],medium:[540,3],large:[720,4],xlarge:[1080,5]}},this.periods=null,this.rows=null,this.currentBreakpoint=[0,1],this.cellWidth=0,this.el=c;try{if("undefined"==typeof c)throw new b("You did not pass a valid target element to the constructor");if("undefined"==typeof d)throw new b("You did not pass any options to the constructor");this.options=a(this.defaults,d)}catch(g){return console.error(g.toString()),g}this.getBreakpoint=function(){var a=this,b=0,c=a.el.clientWidth,d=a.options.breakpoints;for(var e in d){var f=d[e][0];"number"==typeof f&&c>=f&&Math.abs(c-f)<Math.abs(c-b)&&(b=f,a.currentBreakpoint=d[e])}return a.currentBreakpoint},this.setSize=function(){{var a,b=this;b.options.periods.length}a=b.getBreakpoint()};try{if(null===this.options.periods||null===this.options.rows)throw new b("Periods or rows are null");if(this.setSize(),this.periods=e(this.options.periods,this.el),!this.periods)throw new b("Periods is not an Array");if(this.rows=f(this.options.periods,this.options.rows),!this.rows)throw new b("There is a mismatch between periods and prices cells")}catch(g){return console.error(g.toString()),g}}return c});